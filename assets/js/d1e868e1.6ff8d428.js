"use strict";(self.webpackChunkrelational_migrator_lab=self.webpackChunkrelational_migrator_lab||[]).push([[499],{3742:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var s=o(5893),a=o(1151),t=o(4421);const r={},i="\ud83d\udc50 Change genres in books",l={id:"edit-mapping-rules/edit-mapping-books-book-genre",title:"\ud83d\udc50 Change genres in books",description:"We want to modify the MongoDB schema so that each book's genres are represented as an array of strings. We'll have data duplication, as genres will get copied on each book. This is a good strategy if the duplicated data does not change often.",source:"@site/docs/80-edit-mapping-rules/20-edit-mapping-books-book-genre.mdx",sourceDirName:"80-edit-mapping-rules",slug:"/edit-mapping-rules/edit-mapping-books-book-genre",permalink:"/relational-migrator-lab/docs/edit-mapping-rules/edit-mapping-books-book-genre",draft:!1,unlisted:!1,editUrl:"https://github.com/mongodb-developer/relational-migrator-lab/blob/main/docs/80-edit-mapping-rules/20-edit-mapping-books-book-genre.mdx",tags:[],version:"current",sidebarPosition:20,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\ud83d\udc50 Clean book attributes up",permalink:"/relational-migrator-lab/docs/edit-mapping-rules/edit-mapping-books-book-attribute"},next:{title:"\ud83d\udc50 Add authors details to the books collection",permalink:"/relational-migrator-lab/docs/edit-mapping-rules/add-mapping-books-authors"}},c={},d=[];function h(e){const n={code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"-change-genres-in-books",children:"\ud83d\udc50 Change genres in books"})}),"\n",(0,s.jsx)(n.p,{children:"We want to modify the MongoDB schema so that each book's genres are represented as an array of strings. We'll have data duplication, as genres will get copied on each book. This is a good strategy if the duplicated data does not change often."}),"\n",(0,s.jsx)(n.p,{children:"We'll go from the proposed array of objects:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'bookGenres: [\n    {\n        bookId: "Some Book Id",\n        genres: "fiction"\n    },\n    {\n        bookId: "Some Book Id",\n        genres: "novel"\n    }\n]\n'})}),"\n",(0,s.jsx)(n.p,{children:"to an array of primitive values"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'genres: [ "fiction", "novel" ]\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["On the MongoDB diagram view, click the ",(0,s.jsx)(n.code,{children:"books"})," collection"]}),"\n",(0,s.jsxs)(n.li,{children:["On the relational mappings list on the right, click on the edit icon of ",(0,s.jsx)(n.code,{children:"book_genre"})," embedded array"]}),"\n",(0,s.jsxs)(n.li,{children:["Change the field name from ",(0,s.jsx)(n.code,{children:"bookGenres"})," to ",(0,s.jsx)(n.code,{children:"genres"})]}),"\n",(0,s.jsxs)(n.li,{children:["Uncheck ",(0,s.jsx)(n.code,{children:"bookId"})]}),"\n",(0,s.jsxs)(n.li,{children:["In the advanced settings, check ",(0,s.jsx)(n.code,{children:"create array of primitive values"})]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.code,{children:"Save and close"})]}),"\n"]}),"\n",(0,s.jsx)(t.Z,{url:"https://www.mongodb.com/products/tools/relational-migrator",src:"img/160-image-001.png",alt:"Screenshot of the connect modal"})]})}function p(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},4421:(e,n,o)=>{o.d(n,{Z:()=>r});o(7294);var s=o(5893);function a(e){const n=e.url||"http://localhost:3000";return(0,s.jsxs)("div",{className:"browser container",children:[(0,s.jsxs)("div",{className:"row",children:[(0,s.jsxs)("div",{className:"column left",children:[(0,s.jsx)("span",{className:"dot",style:{background:"#ED594A"}}),(0,s.jsx)("span",{className:"dot",style:{background:"#FDD800"}}),(0,s.jsx)("span",{className:"dot",style:{background:"#5AC05A"}})]}),(0,s.jsx)("div",{className:"column middle",children:(0,s.jsx)("input",{type:"text",value:n})}),(0,s.jsx)("div",{className:"column right",children:(0,s.jsxs)("div",{style:{float:"right"},children:[(0,s.jsx)("span",{className:"bar"}),(0,s.jsx)("span",{className:"bar"}),(0,s.jsx)("span",{className:"bar"})]})})]}),(0,s.jsx)("div",{className:"content",children:e.children})]})}var t=o(4996);function r(e){return(0,s.jsx)(a,{...e,children:(0,s.jsx)("img",{src:(0,t.ZP)(e.src),alt:e.alt})})}},1151:(e,n,o)=>{o.d(n,{Z:()=>i,a:()=>r});var s=o(7294);const a={},t=s.createContext(a);function r(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);